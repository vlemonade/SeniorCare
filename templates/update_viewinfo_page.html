{% extends 'main.html' %} {% block content %} {% load static %}
<link
  rel="stylesheet"
  type="text/css"
  media="screen"
  href="{% static 'styles/update_viewinfo_page1.css' %}"
/>
<script defer src="{% static 'js/update_viewpage.js' %}"></script>

<body>
  <div class="container">
    <div class="inner">
      <form method="POST">
        {% csrf_token %}

        <div class="form-wrapper">
          <input
            type="text"
            class="form-control"
            name="Firstname"
            placeholder="First Name"
            value="{{ seniors.first_name}}"
            disabled
          />
        </div>

        <div class="form-wrapper">
          <input
            type="text"
            class="form-control"
            name="Lastname"
            placeholder="Last Name"
            value="{{ seniors.last_name}}"
            disabled
          />
        </div>

        <div class="form-wrapper">
          <input
            type="text"
            class="form-control"
            name="Middlename"
            placeholder="Middle Name"
            value="{{ seniors.middle_name}}"
            disabled
          />
        </div>

        <div class="form-group">
          <input
            type="text"
            class="form-control"
            name="Suffix"
            placeholder="Suffix"
            value="{{ seniors.suffix}}"
            disabled
          />
          <input
            name="sex"
            id="sex"
            class="form-control"
            value="{{ seniors.sex}}"
            disabled
          />
        </div>

        <div class="form-group1">
          <input
            type="text"
            class="form-control"
            name="Birthdate"
            placeholder="Birth date: dd-mm-yyyy"
            value="{{ seniors.birth_date}}"
            disabled
          />
          <input
            type="number"
            class="form-control"
            name="Age"
            placeholder="Age"
            value="{{ seniors.age}}"
            disabled
          />
        </div>

        <div class="form-wrapper">
          <input
            type="text"
            class="form-control"
            name="Adress"
            placeholder="Address"
            value="{{ seniors.address}}"
            disabled
          />
        </div>

        <div class="form-wrapper">
          <input
            type="text"
            class="form-control"
            name="Contact No."
            placeholder="Address"
            value="{{ seniors.phone_number}}"
            disabled
          />
        </div>

        <div class="form-wrapper">
          <input
            type="text"
            class="form-control"
            name="OSCA_ID"
            placeholder="OSCA_ID"
            value="{{ seniors.OSCA_ID  }}"
            disabled
          />
        </div>

        <div class="btn-container">
          <a href="/edit/{{seniors.id}}" class="btn-edit">Edit</a>
          <button type="button" class="btn-delete" onclick="showConfirmation()">
            Delete
          </button>

          <a href="/update_page/" class="btn-cancel">Back</a>
        </div>
      </form>

      <div class="pic-container">

      <div class="new-container">
      {% if seniors.senior_image %}
      <div class="photo-holder">
        <img src="{{ seniors.senior_image.url }}" alt="profile" />
      </div>
      {% else %}
      <div class="photo-holder">
        <img src="{% static 'image/profile.png' %}" alt="profile" />
      </div>
      {% endif %}
      </div>
      
      <div class="added-info">
        <div class="status">
            <p>Status:</p>
        </div>
        <div class="created">
            <p>Creation Date: <span class="info">{{ seniors.created|date:"M d, Y"}}</span></p>
        </div>
        <div class="claim">
            {% if seniors.claimed_date %}
                <p>Last Claim Date: <span class="info">{{ seniors.claimed_date|date:"M d, Y" }}</span></p>
            {% else %}
                <p>Last Claim: <span class="info">none</span></p>
            {% endif %}
        </div>
      </div>

    </div>

    <div id="confirmation-popup" class="confirmation-popup">
      <div class="header"></div>
      <div class="popup-body">
        <p>What is the reason for deleting this information?</p><br>
        <div class="delete-reasons">
          <label style="text-align: left; display: block; margin-left:20px">
            <input type="radio" name="deletion_reason" value="deceased" onclick="updateActiveStatus('deceased')"> The person is deceased
          </label><br>
          <label style="text-align: left; display: block; margin-left:20px">
            <input type="radio" name="deletion_reason" value="inactive" onclick="updateActiveStatus('inactive')"> The person no longer resides in Manila
          </label><br>
          <label style="text-align: left; display: block; margin-left:20px">
            <input type="radio" name="deletion_reason" value="others" onclick="updateActiveStatus('other')"> Other reasons
          </label>
        </div>
        <div class="confirm-delete">
          <a href="#" id="btn-delete" class="btn-delete1">Yes</a>
          <a onclick="hideConfirmation()" class="btn-cancel1">Cancel</a>
        </div>
      </div>
    </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script>
    function updateActiveStatus(activeStatus) {
      // Update the value of the active_status variable
      activeStatusValue = activeStatus;

      // Enable the "Yes" button
      $('#btn-delete').attr('href', '/delete/{{ seniors.id }}?active_status=' + activeStatusValue);
    }

    function hideConfirmation() {
      // Add logic to hide the confirmation popup if needed
    }
  </script>
</body>
{% endblock content%}
