{% extends 'main.html' %} {% block content %} {% load static %}

<link
  rel="stylesheet"
  type="text/css"
  media="screen"
  href="{% static 'styles/update_page.css' %}"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
  integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<title>Update Page</title>

<div class="claim-body">
  <div class="container">
    <div class="filter-con">
    <form action="/search/" method="GET">
      <div class="search-bar">
        <h2>Search:</h2>
        <input placeholder="Search" type="search" name="q" class="left" />
      </div>
    </form>

    <form method="GET" id="statusFilterForm">
      <div class="filter">
      <label for="status_filter">Status:</label>
      <select name="status_filter" id="status_filter" onchange="document.getElementById('statusFilterForm').submit()">
          <option value="all" {% if request.GET.status_filter == 'all' %}selected{% endif %}>All</option>
          <option value="active" {% if request.GET.status_filter == 'active' %}selected{% endif %}>Active</option>
          <option value="inactive" {% if request.GET.status_filter == 'inactive' %}selected{% endif %}>Inactive</option>
      </select>
    </div>
  </form>
</div>

    <div class="brgy">
      <h2 class="right">Barangay 558 / Zone 55</h2>
    </div>
  </div>

  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Last Name</th>
          <th>First Name</th>
          <th>Middle Initial</th>
          <th>Status</th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        {% for senior in seniors %}
        
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ senior.last_name }}</td>
                <td>{{ senior.first_name }}</td>
                <td>{{ senior.middle_name }}</td>
                <td>
                  {% if senior.status %}
                    Active
                  {% else %}
                    Inactive
                  {% endif %}
                </td>
                <td>
                  {% if senior.deletion_reason %}
                    <a href="/deleted/{{ senior.id }}">Deleted</a>
                  {% else %}
                    <a href="/update_viewinfo_page/{{ senior.id }}" class="claim-btn">ViewInfo</a>
                  {% endif %}
                </td>
            </tr>
          
      {% endfor %}
      </tbody>
    </table>
    {% endblock content%}
  </div>
</div>
